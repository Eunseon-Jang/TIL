<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Hello World</title>
  </head>
  <body>
   
  </body>
  <script async>
   /* Object */

   /* 객체 리터럴 */
   var emptyobject = {};
   console.log( typeof emptyobject );

   var person = {
    name : 'Lee',
    gender : 'male',
    sayHello: function () {
      console.log('Hi! my name is ' + this.name);
    }
   }

   console.log(typeof person); //object
   console.log(person); // {name: 'Lee'....}

   person.sayHello();

   /*Object 생성자 함수*/

   //빈 객체의 생성
   var person = new Object();

   //프로퍼티 추가
   person.name = 'Lee';
   person.gender = 'male';
   person.sayHello = function() {
      console.log('Hi my name is ' + this.name);
   };

   console.log(typeof person); //object
   console.log(person) // {name : 'Lee' ...}

  person.sayHello();


  //생성자 함수
  function Person(name, gender) {
    var married = true;           //private
    this.name = name;             //public
    this.gender = gender;         //public
    this.sayHello = function() {  //public
      console.log('Hi my name is ' + this.name);
    }
  }

  //인스턴스의 생성
  var person1 = new Person('Lee','male');
  var person2 = new Person('Jang','female');

  console.log('person1 : ', typeof person1);
  console.log('person2 : ', typeof person2);
  console.log('person1 : ', person1);
  console.log('person2 : ', person2);

  person1.sayHello();
  person2.sayHello();

  var person = new Person('Lee', 'male');
  console.log(person); //Person {name : 'Lee'...}

  console.log(person.gender); //male
  console.log(person.married); // undefined

  var person3 = {
    'first-name' : 'Ung-me',
    'last-name' : 'Lee',
    gender : 'male',
    1 : 10,
    function : 1 //OK. 하지만 예약어는 사용하지 말아야 한다.
  };

  console.log(person3);

  var person3 = {
   //first-name: 'Ung-me', //SyntaxError: Unexpected token -
  }

  /* 프로퍼티 값 읽기 */

  var person = {
    'first-name' : 'Ung-me',
    'last-name' : 'Lee',
    gender : 'male',
    1 : 10
  }

  console.log(person);

  console.log(person.first-name);// NaN: undefined-undefined
 // console.log(person[first-name]);// ReferenceError: first is not defined
  console.log(person['first-name']); //Ung-me


  console.log(person.gender); //male
  //console.log(person[gender]); // ReferenceError: gender is not defined
  console.log(person['gender']); //male

  console.log(person['1']); //10
  console.log(person[1]); //10
  //console.log(person.1); //SyntaxError


  /* 프로퍼티 동적 생성 */
  var person = {
    'first-name' : 'Ung-me',
    'last-name' : 'Lee',
    gender : 'male',
  }

  person.age = 20;
  console.log(person.age); //20

  /*프로퍼티 삭제*/

  delete person.gender;
  console.log(person);
  console.log(person.gender);

  delete person;
  console.log(person);

  /* for-in 문 */

  var person = {
    'first-name' : 'Ung-me',
    'last-name' : 'Lee',
    gender : 'male',
  }

  //prop에 객체의 프로퍼티 이름이 반환된다. 단, 순서는 보장되지 않는다.
  for (var prop in person) {
    console.log(prop + ' : ' + person[prop]);
  }

  var array = ['one','two'];

  //index에 배열의 경우 인덱스가 반환된다.
  for (var index in array) {
    console.log(index + ' : ' + array[index]);
  }

  array.name = 'my array';
  for (var index in array) {
    console.log(index + ' : ' + array[index]);
  }

  /*
    0: one
    1: two
    name: my array
  */

  console.log(array);


  /* for-of */
  const array1 = [1,2,3];
  array1.name = 'my array';

  for (const value of array1) {
    console.log(value);
  }

  /*
    1
    2
    3
  */

  for (const[index,value] of array1.entries()) {
    console.log(index, value);
  }

  //pass-by-reference
  var foo = {
    val: 10
  }

  var bar = foo;
  console.log(foo.val, bar.val); //10 10
  console.log(foo === bar) // true

  bar.val = 20;
  console.log(foo.val, bar.val) //20 20
  console.log(foo === bar); //true


  var foo = { val : 10 };
  var bar = { val : 10 };

  console.log(foo.val, bar.val); //10 10
  console.log(foo === bar); //false

  var baz = bar;

  console.log(bar.val, bar.val); //10 10
  console.log(bar === baz); // true


  var a = {}, b = {}, c = {}; // a, b, c는 각자 다른 빈 객체를 참조
  console.log(a === b,a === c, b === c);  //false false false

  a = b = c = {}; // a, b, c는 모두 같은 빈 객체를 참조
  console.log(a === b, a === c, b === c); // true true true

  /*Pass-by-value*/
  var a = 1;
  var b = a;

  console.log(a, b); // 1 1
  console.log(a === b); // true

  a = 10;
  console.log(a, b); // 10 1
  console.log(a === b); // false
  
  </script>
</html>