<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Hello World</title>
	<script
	src="https://code.jquery.com/jquery-3.3.1.js"
	integrity="sha256-2Kok7MbOyxpgUVvAk/HJ2jigOSYS2auK4Pfzbm7uH60="
	crossorigin="anonymous"></script>
</head>
<body>
	<div class="calc_deposit">
		<div>
			<input type="text" id="input_enter" placeholder="총 보험료">
			<a href="#none" class="btn_calc">입력</a>
		</div>
		<input type="text" id="output" placeholder="입금액">
	</div>
</body>
<script async>
	//리팩토링 전

	calcDeposit();
	function calcDeposit() {
		var calc =  $('.btn_calc');

		calc.click( function() {
			var input = $('#input_enter').val();
			var output = input/2;

			if( output % 2 ) {
				output = (Math.floor(output * 0.1)) * 10;
			}

			$('#output').val(output);
		})
	}

	//객체지향으로 리팩토링 후

	calcDeposit();
	//입력값을 나누기 2 했을 시에 끝 자리가 5로 끝나면 내림이 되어서 나와야함. example )(50(input) / 2) = 25 -> 20(최종아웃풋)
	function calcDeposit() {
         var calc =  $('.btn_calc'); // 입력버튼

         var calc_output = function(input) {
         	var output = input/2;

         	if( output % 2 ) {
         		output = (Math.floor(output * 0.1)) * 10;
         	}

         	return output;
         };

         var put_output = function() {
         	var input = $('#input_enter').val(); 
         	$('#output').val(calc_output(input));
         };

         calc.click(function() {
         	put_output();
         });
     }

 </script>
 </html>